
> whatsapp-backend@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.11[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m

Â­Æ’ÃœÃ‡ Inicializando WhatsApp Web...

    Â­Æ’Ã†â–‘ SERVIDOR DE RECORDATORIOS DE PAGOS v2.0
    ============================================
    Puerto: 3001
    Lâ”œÂ¡mite mensual: 1500 mensajes
    Historial: Ã”Â£Ã  Habilitado
    Patch: Ã”Â£Ã  markedUnread fix
    
    Â­Æ’Ã´â–’ Endpoints:
    - GET  /status              Ã”Ã¥Ã† Estado WhatsApp
    - GET  /qrcode             Ã”Ã¥Ã† Obtener QR
    - GET  /dashboard          Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /health             Ã”Ã¥Ã† Salud del servidor
    
    Â­Æ’Ã´Ã¯ Historial:
    - GET  /notifications/history Ã”Ã¥Ã† Historial de notificaciones
    - GET  /notifications/stats   Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /notifications/export  Ã”Ã¥Ã† Exportar historial
    - DELETE /notifications/clear Ã”Ã¥Ã† Limpiar historial
    
    Â­Æ’Ã´Ã± Envâ”œÂ¡o:
    - POST /send-reminder      Ã”Ã¥Ã† Recordatorio individual
    - POST /send-batch-reminders Ã”Ã¥Ã† Lote controlado
    - POST /test-number        Ã”Ã¥Ã† Verificar nâ”œâ•‘mero
    
    Ã”ÃœÃ¡Â´Â©Ã…  Recomendaciones:
    Ã”Ã‡Ã³ Usa /test-number antes de agregar clientes
    Ã”Ã‡Ã³ Monitorea /dashboard regularmente
    Ã”Ã‡Ã³ Mâ”œÃ­ximo 30 mensajes por lote
    Ã”Ã‡Ã³ Delay de 2-3 segundos entre mensajes
    ============================================
    
C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103
    #error = new Errors_js_1.ProtocolError();
             ^

ProtocolError: Protocol error (Runtime.callFunctionOn): Execution context was destroyed.
    at <instance_members_initializer> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103:14)
    at new Callback (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:107:16)
    at CallbackRegistry.create (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:25:26)
    at Connection._rawSend (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\Connection.js:108:26)
    at CdpCDPSession.send (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\CdpSession.js:74:33)
    at #evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:363:50)
    at ExecutionContext.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:277:36)
    at IsolatedWorld.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\IsolatedWorld.js:100:30)
    at CdpFrame.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Frame.js:362:43)
    at CdpFrame.<anonymous> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\util\decorators.js:109:27)
    at CdpPage.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Page.js:826:43)
    at Client.inject (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:124:55)
    at async Client.initialize (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:373:9)

Node.js v24.13.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m

Â­Æ’ÃœÃ‡ Inicializando WhatsApp Web...

    Â­Æ’Ã†â–‘ SERVIDOR DE RECORDATORIOS DE PAGOS v2.0
    ============================================
    Puerto: 3001
    Lâ”œÂ¡mite mensual: 1500 mensajes
    Historial: Ã”Â£Ã  Habilitado
    Patch: Ã”Â£Ã  markedUnread fix
    
    Â­Æ’Ã´â–’ Endpoints:
    - GET  /status              Ã”Ã¥Ã† Estado WhatsApp
    - GET  /qrcode             Ã”Ã¥Ã† Obtener QR
    - GET  /dashboard          Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /health             Ã”Ã¥Ã† Salud del servidor
    
    Â­Æ’Ã´Ã¯ Historial:
    - GET  /notifications/history Ã”Ã¥Ã† Historial de notificaciones
    - GET  /notifications/stats   Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /notifications/export  Ã”Ã¥Ã† Exportar historial
    - DELETE /notifications/clear Ã”Ã¥Ã† Limpiar historial
    
    Â­Æ’Ã´Ã± Envâ”œÂ¡o:
    - POST /send-reminder      Ã”Ã¥Ã† Recordatorio individual
    - POST /send-batch-reminders Ã”Ã¥Ã† Lote controlado
    - POST /test-number        Ã”Ã¥Ã† Verificar nâ”œâ•‘mero
    
    Ã”ÃœÃ¡Â´Â©Ã…  Recomendaciones:
    Ã”Ã‡Ã³ Usa /test-number antes de agregar clientes
    Ã”Ã‡Ã³ Monitorea /dashboard regularmente
    Ã”Ã‡Ã³ Mâ”œÃ­ximo 30 mensajes por lote
    Ã”Ã‡Ã³ Delay de 2-3 segundos entre mensajes
    ============================================
    
C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103
    #error = new Errors_js_1.ProtocolError();
             ^

ProtocolError: Protocol error (Runtime.callFunctionOn): Execution context was destroyed.
    at <instance_members_initializer> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103:14)
    at new Callback (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:107:16)
    at CallbackRegistry.create (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:25:26)
    at Connection._rawSend (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\Connection.js:108:26)
    at CdpCDPSession.send (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\CdpSession.js:74:33)
    at #evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:363:50)
    at ExecutionContext.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:277:36)
    at IsolatedWorld.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\IsolatedWorld.js:100:30)
    at CdpFrame.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Frame.js:362:43)
    at CdpFrame.<anonymous> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\util\decorators.js:109:27)
    at CdpPage.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Page.js:826:43)
    at Client.inject (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:124:55)
    at async Client.initialize (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:373:9)

Node.js v24.13.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m

Â­Æ’ÃœÃ‡ Inicializando WhatsApp Web...

    Â­Æ’Ã†â–‘ SERVIDOR DE RECORDATORIOS DE PAGOS v2.0
    ============================================
    Puerto: 3001
    Lâ”œÂ¡mite mensual: 1500 mensajes
    Historial: Ã”Â£Ã  Habilitado
    Patch: Ã”Â£Ã  markedUnread fix
    
    Â­Æ’Ã´â–’ Endpoints:
    - GET  /status              Ã”Ã¥Ã† Estado WhatsApp
    - GET  /qrcode             Ã”Ã¥Ã† Obtener QR
    - GET  /dashboard          Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /health             Ã”Ã¥Ã† Salud del servidor
    
    Â­Æ’Ã´Ã¯ Historial:
    - GET  /notifications/history Ã”Ã¥Ã† Historial de notificaciones
    - GET  /notifications/stats   Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /notifications/export  Ã”Ã¥Ã† Exportar historial
    - DELETE /notifications/clear Ã”Ã¥Ã† Limpiar historial
    
    Â­Æ’Ã´Ã± Envâ”œÂ¡o:
    - POST /send-reminder      Ã”Ã¥Ã† Recordatorio individual
    - POST /send-batch-reminders Ã”Ã¥Ã† Lote controlado
    - POST /test-number        Ã”Ã¥Ã† Verificar nâ”œâ•‘mero
    
    Ã”ÃœÃ¡Â´Â©Ã…  Recomendaciones:
    Ã”Ã‡Ã³ Usa /test-number antes de agregar clientes
    Ã”Ã‡Ã³ Monitorea /dashboard regularmente
    Ã”Ã‡Ã³ Mâ”œÃ­ximo 30 mensajes por lote
    Ã”Ã‡Ã³ Delay de 2-3 segundos entre mensajes
    ============================================
    
C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103
    #error = new Errors_js_1.ProtocolError();
             ^

ProtocolError: Protocol error (Runtime.callFunctionOn): Execution context was destroyed.
    at <instance_members_initializer> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103:14)
    at new Callback (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:107:16)
    at CallbackRegistry.create (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:25:26)
    at Connection._rawSend (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\Connection.js:108:26)
    at CdpCDPSession.send (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\CdpSession.js:74:33)
    at #evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:363:50)
    at ExecutionContext.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:277:36)
    at IsolatedWorld.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\IsolatedWorld.js:100:30)
    at CdpFrame.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Frame.js:362:43)
    at CdpFrame.<anonymous> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\util\decorators.js:109:27)
    at CdpPage.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Page.js:826:43)
    at Client.inject (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:124:55)
    at async Client.initialize (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:373:9)

Node.js v24.13.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m

Â­Æ’ÃœÃ‡ Inicializando WhatsApp Web...

    Â­Æ’Ã†â–‘ SERVIDOR DE RECORDATORIOS DE PAGOS v2.0
    ============================================
    Puerto: 3001
    Lâ”œÂ¡mite mensual: 1500 mensajes
    Historial: Ã”Â£Ã  Habilitado
    Patch: Ã”Â£Ã  markedUnread fix
    
    Â­Æ’Ã´â–’ Endpoints:
    - GET  /status              Ã”Ã¥Ã† Estado WhatsApp
    - GET  /qrcode             Ã”Ã¥Ã† Obtener QR
    - GET  /dashboard          Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /health             Ã”Ã¥Ã† Salud del servidor
    
    Â­Æ’Ã´Ã¯ Historial:
    - GET  /notifications/history Ã”Ã¥Ã† Historial de notificaciones
    - GET  /notifications/stats   Ã”Ã¥Ã† Estadâ”œÂ¡sticas
    - GET  /notifications/export  Ã”Ã¥Ã† Exportar historial
    - DELETE /notifications/clear Ã”Ã¥Ã† Limpiar historial
    
    Â­Æ’Ã´Ã± Envâ”œÂ¡o:
    - POST /send-reminder      Ã”Ã¥Ã† Recordatorio individual
    - POST /send-batch-reminders Ã”Ã¥Ã† Lote controlado
    - POST /test-number        Ã”Ã¥Ã† Verificar nâ”œâ•‘mero
    
    Ã”ÃœÃ¡Â´Â©Ã…  Recomendaciones:
    Ã”Ã‡Ã³ Usa /test-number antes de agregar clientes
    Ã”Ã‡Ã³ Monitorea /dashboard regularmente
    Ã”Ã‡Ã³ Mâ”œÃ­ximo 30 mensajes por lote
    Ã”Ã‡Ã³ Delay de 2-3 segundos entre mensajes
    ============================================
    
C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103
    #error = new Errors_js_1.ProtocolError();
             ^

ProtocolError: Protocol error (Runtime.callFunctionOn): Execution context was destroyed.
    at <instance_members_initializer> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:103:14)
    at new Callback (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:107:16)
    at CallbackRegistry.create (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\common\CallbackRegistry.js:25:26)
    at Connection._rawSend (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\Connection.js:108:26)
    at CdpCDPSession.send (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\CdpSession.js:74:33)
    at #evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:363:50)
    at ExecutionContext.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\ExecutionContext.js:277:36)
    at IsolatedWorld.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\cdp\IsolatedWorld.js:100:30)
    at CdpFrame.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Frame.js:362:43)
    at CdpFrame.<anonymous> (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\util\decorators.js:109:27)
    at CdpPage.evaluate (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\node_modules\puppeteer-core\lib\cjs\puppeteer\api\Page.js:826:43)
    at Client.inject (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:124:55)
    at async Client.initialize (C:\Users\al180\Documents\PROYECTOS\backend\node_modules\whatsapp-web.js\src\Client.js:373:9)

Node.js v24.13.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
